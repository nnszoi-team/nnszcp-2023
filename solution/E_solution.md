可以先考虑无解的情况，构造一个从 $0$ 开始一直加到 $n*n-1$ 的矩阵，这显然是最小的合法矩阵。

对其按题意的操作求和后的值为 $s=\frac{(n+1)*n*(n-1)}{2}$ ，如果所给的 $k<s$，就是无解的情况，因为我们无法构造出比这个还小的矩阵，否则就会出现重复的元素。

如果你只输出 -1 ，是一分也没有的。

那么要怎么构造呢？

我们现在已经有一个最小的合法矩阵了，其实只要在这个基础上加一加就好了。

具体的，只要把最大那行 $l$（从 $n*n-1-n$ 到 $n*n-1$）都加上 $(k-s)$ 就好了，因为每行只会选出一个元素， $l$ 中元素也一定会被选到一个，就会使得 $s\leftarrow s+(k-s)$，在最大一行加是为了避免元素重复，于是就做完了。

当然其实不只这一种构造方法，但只要构造出的矩阵相邻两列中每一行元素的差都相等，就可以使得任意选出来的结果都一样，然后再使得结果与 $k$ 相等即可。